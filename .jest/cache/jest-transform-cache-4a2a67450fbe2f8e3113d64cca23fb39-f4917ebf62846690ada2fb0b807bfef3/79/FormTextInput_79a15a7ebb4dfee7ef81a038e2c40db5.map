{"version":3,"sources":["/home/muzzamil/Documents/bluebase/plugin-json-schema-components/src/JsonForm/Fields/FormTextInput.tsx"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAA,YAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;;AAIA,IAAA,QAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAM,aAAa,GAAG,YAAA,CAAA,YAAA,CAAiC,eAAjC,CAAtB;AACA,IAAM,SAAS,GAAG,YAAA,CAAA,YAAA,CAA6B,WAA7B,CAAlB;;AAcA,IAAM,QAAQ,GAAG,SAAX,QAAW,CAAC,KAAD;AAAA,SAA+B,UAAC,KAAD,EAAkB;AAAA,QACzD,QADyD,GACtC,KADsC,CACzD,QADyD;AAAA,QAC/C,IAD+C,GACtC,KADsC,CAC/C,IAD+C;AAGjE,QAAI,KAAJ;AACA,QAAI,QAAJ;;AAGA,QAAI,QAAQ,KAAK,IAAb,IAAqB,CAAC,KAA1B,EAAkC;AACjC,MAAA,KAAK,GAAG,wBAAR;AACA,KAFD,MAIK,IAAG,IAAI,KAAK,MAAT,IAAmB,eAAe,IAAf,CAAoB,KAApB,CAAtB,EAAiD;AACrD,MAAA,KAAK,GAAG,yBAAR;AACA,KAFI,MAIA,IAAG,IAAI,KAAK,UAAZ,EAAuB;AAE3B,MAAA,KAAK,GAAG,wBAAR;AAEA,KAJI,MAMA,IAAG,IAAI,KAAK,MAAZ,EAAqB;AACzB,MAAA,KAAK,GAAG,KAAR;AACA,KAFI,MAKA,IAAI,IAAI,KAAK,QAAT,IAAqB,CAAC,yBAAyB,IAAzB,CAA8B,KAA9B,CAA1B,EAA+D;AACnE,QAAA,KAAK,GAAG,6BAAR;AACA,OAFI,MAIA,IAAI,IAAI,KAAK,UAAT,IAAuB,KAAK,IAAI,QAApC,EAA8C;AAClD,QAAA,KAAK,GAAG,sBAAR;AACA,OAFI,MAKA,IAAI,IAAI,KAAK,OAAT,IAAoB,CAAC,4CAA4C,IAA5C,CAAiD,KAAjD,CAAzB,EAAkF;AACtF,UAAA,KAAK,GAAG,oCAAR;AACA;;AAED,WAAO,KAAP;AACA,GAxCgB;AAAA,CAAjB;;AA0Ca,OAAA,CAAA,aAAA,GAAgB,UAAC,KAAD;AAAA,SAC5B,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,QAAA,CAAA,KAAD,EAAM,uBAAA,EAAA,EAAK,KAAL,EAAU;AAAE,IAAA,QAAQ,EAAE,KAAK,CAAC,QAAN,IAAkB,QAAQ,CAAC,KAAD;AAAtC,GAAV,CAAN,EACE,gBAAyB;AAAA,QAAtB,KAAsB,QAAtB,KAAsB;AAAA,QAAf,IAAe,QAAf,IAAe;AACzB,QAAM,IAAI,GAAG,KAAK,CAAC,IAAnB;AAEA,QAAM,UAAU,GAAA,uBAAA,EAAA,EACZ,KADY,EACP;AACR,MAAA,QAAQ,EAAE;AADF,KADO,EAGZ,KAHY,EAGP;AACR,MAAA,KAAK,EAAG,IAAI,CAAC,MAAL,CAAY,IAAZ,KAAqB,IAAI,CAAC,OAAL,CAAa,IAAb,CAAtB,IAA6C,KAAK,CAAC,KADlD;AAER,MAAA,UAAU,EAAE,IAAI,CAAC,MAAL,CAAY,IAAZ,KAAqB,KAAK,CAAC,UAF/B;AAIR,MAAA,YAAY,EAAE,sBAAC,IAAD,EAAiB;AAC9B,QAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,EAAwB,IAAxB;AACA;AANO,KAHO,CAAhB;AAWA,WAAQ,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,aAAD,EAAc,uBAAA,EAAA,EAAK,UAAL,CAAd,CAAR;AACA,GAhBF,CAD4B;AAAA,CAAhB;;AAqBb,OAAA,CAAA,aAAA,CAAc,YAAd,GAA6B;AAC5B,EAAA,aAAa,EAAE;AADa,CAA7B","sourcesContent":["import { TextInputProps, getComponent } from '@bluebase/components';\nimport { BaseFormFieldProps } from '../BaseFormField';\nimport { StyleProp, ViewStyle } from 'react-native';\n\nimport { Field } from 'formik';\nimport React from 'react';\n\nconst BaseFormField = getComponent<BaseFormFieldProps>('BaseFormField');\nconst TextInput = getComponent<TextInputProps>('TextInput');\n\nexport type FormTextInputProps<T = {}> = TextInputProps & BaseFormFieldProps & T & {\n\tchildren?: React.ReactNode;\n\tvalidate?: ((value: any) => string | Promise<void> | undefined);\n\tname: string;\n\ttype?: string;\n\tvalue?: any;\n\tinnerRef?: (instance: any) => void;\n\tstyle?: StyleProp<ViewStyle>;\n\t//[key: string]: any\n\tmaxLength ? : number\n};\n\nconst validate = (props: FormTextInputProps) => (value: string) => {\n\tconst { required, type } = props;\n\n\tlet error;\n\tvar password ;\n\n\t// If field is required //tested\n\tif (required === true && !value ) {\n\t\terror = 'This field is required';\n\t}\n\n\telse if(type === 'text' && /!^[A-Za-z]+$/.test(value)){\n\t\terror = 'Should only be alphabet';\n\t}\n\n\telse if(type === 'password'){\n\t\t//password == value;\n\t\terror = 'This field is required';\n\n\t}\n\n\telse if(type === 'date'  ){\n\t\terror = value;\n\t}\n\n\t//if number field is incorrect\n\telse if (type === 'number' && !/^(0|[1-9]\\d*)(\\.\\d+)?$/.test(value)){\n\t\terror = 'Please enter a valid number'\n\t}\n\n\telse if (type === 'password' && value != password ){\n\t\terror = 'Password not matched'\n\t}\n\n\t// If field 'email'\n\telse if (type === 'email' && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\n\t\terror = 'Please enter a valid email address';\n\t}\n\n\treturn error;\n};\n\nexport const FormTextInput = (props: FormTextInputProps) => (\n\t<Field {...props} validate={props.validate || validate(props)}>\n\t\t{({ field, form }: any) => {\n\t\t\tconst name = props.name;\n\n\t\t\tconst inputProps = {\n\t\t\t\t...field,\n\t\t\t\tonChange: undefined,\n\t\t\t\t...props,\n\t\t\t\terror: (form.errors[name] && form.touched[name]) || props.error,\n\t\t\t\thelperText: form.errors[name] || props.helperText,\n\t\t\t\t\n\t\t\t\tonChangeText: (text: string) => {\n\t\t\t\t\tform.handleChange(name)(text);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn (<BaseFormField {...inputProps} />);\n\t\t}}\n\t</Field>\n);\n\nFormTextInput.defaultProps = {\n\tMainComponent: TextInput\n};"]}